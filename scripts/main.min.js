let pdfBlockMove;const fileDragOverEvent=e=>{e.stopPropagation(),e.preventDefault()};document.getElementsByClassName("fileAddBox")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;document.getElementsByClassName("inpFile")[0].click()},window.ondragover=()=>{pdfBlockMove||(event.stopPropagation(),event.preventDefault())},window.ondrop=()=>{if(event.stopPropagation(),event.preventDefault(),0<document.getElementsByClassName("downloadLoadingPage").length)return!1;var t="up"==document.getElementsByClassName("orderByCommandBtn")[0].getAttribute("data-type")?[...event.target.files||event.dataTransfer.files].sort((e,t)=>{var n=(e.name.length>t.name.length?e:t).name.length;return e.name==t.name?0:e.name.padStart(n," ")>t.name.padStart(n," ")?1:-1}):[...event.target.files||event.dataTransfer.files].sort((e,t)=>{var n=(e.name.length>t.name.length?e:t).name.length;return e.name==t.name?0:e.name.padStart(n," ")<t.name.padStart(n," ")?1:-1});for(let e=0;e<t.length;e++)imageFileAdd(t[e]);pdfBlockMove=void 0},document.getElementsByClassName("inpFile")[0].onchange=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;var t="up"==document.getElementsByClassName("orderByCommandBtn")[0].getAttribute("data-type")?[...event.target.files||event.dataTransfer.files].sort((e,t)=>{var n=(e.name.length>t.name.length?e:t).name.length;return e.name==t.name?0:e.name.padStart(n," ")>t.name.padStart(n," ")?1:-1}):[...event.target.files||event.dataTransfer.files].sort((e,t)=>{var n=(e.name.length>t.name.length?e:t).name.length;return e.name==t.name?0:e.name.padStart(n," ")<t.name.padStart(n," ")?1:-1});for(let e=0;e<t.length;e++)imageFileAdd(t[e])},document.getElementsByClassName("orderByCommandBtn")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;const t=document.getElementsByClassName("imageListBox")[0];var n=document.getElementsByClassName("fileAddBox")[0];const e=[...document.getElementsByClassName("imageBox")];("up"==document.getElementsByClassName("orderByCommandBtn")[0].getAttribute("data-type")?e.sort((e,t)=>{e=e.getElementsByClassName("imageName")[0].innerText,t=t.getElementsByClassName("imageName")[0].innerText;var n=(e.name.length>t.name.length?e:t).name.length;return e==t?0:e.padStart(n," ")>t.padStart(n," ")?1:-1}):e.sort((e,t)=>{e=e.getElementsByClassName("imageName")[0].innerText,t=t.getElementsByClassName("imageName")[0].innerText;var n=(e.name.length>t.name.length?e:t).name.length;return e==t?0:e.padStart(n," ")<t.padStart(n," ")?1:-1})).forEach(e=>{t.insertBefore(e,n)})},document.getElementsByClassName("pdfOptionFormat")[0].onchange=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;"auto"!=event.target.value?(document.getElementsByClassName("pdfOptionOrientation")[0].disabled=!1,document.getElementsByClassName("imageListBox")[0].setAttribute("format","landscape"==document.getElementsByClassName("pdfOptionOrientation")[0].value?"b":"a")):(document.getElementsByClassName("pdfOptionOrientation")[0].disabled=!0,document.getElementsByClassName("imageListBox")[0].hasAttribute("format")&&document.getElementsByClassName("imageListBox")[0].removeAttribute("format"))},document.getElementsByClassName("pdfOptionOrientation")[0].onchange=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;"auto"!=document.getElementsByClassName("pdfOptionFormat")[0].value&&document.getElementsByClassName("imageListBox")[0].setAttribute("format","landscape"==event.target.value?"b":"a")},document.getElementsByClassName("orderByTypeBtn")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;document.getElementsByClassName("orderByTypeBtn")[0].time||(document.getElementsByClassName("orderByTypeBtn")[0].getElementsByTagName("svg")[0].getElementsByTagName("path")[0].setAttribute("d","M13.3333 12L7.99992 6.5L2.66659 12L1.33325 10.6667L7.99992 4L14.6666 10.6667L13.3333 12Z"),document.getElementsByClassName("orderByTypeBtn")[0].setAttribute("active",!0)),document.getElementsByClassName("orderByTypeBtn")[0].time=void 0},document.getElementsByClassName("orderByOptionItem")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;var e=document.getElementsByClassName("orderByCommandBtn")[0].innerText;document.getElementsByClassName("orderByCommandBtn")[0].innerText=document.getElementsByClassName("orderByOptionItem")[0].innerText,document.getElementsByClassName("orderByOptionItem")[0].innerText=e;e=document.getElementsByClassName("orderByCommandBtn")[0].getAttribute("data-type");document.getElementsByClassName("orderByCommandBtn")[0].setAttribute("data-type",document.getElementsByClassName("orderByOptionItem")[0].getAttribute("data-type")),document.getElementsByClassName("orderByOptionItem")[0].setAttribute("data-type",e)},window.onmouseup=()=>{if(document.getElementsByClassName("orderByTypeBtn")[0].hasAttribute("active")){let t=event.target;for(let e=0;e<4;e++){if(t==document.getElementsByClassName("orderByTypeBtn")[0]){t.time=!0;break}if(!t.parentElement)break;t=t.parentElement}document.getElementsByClassName("orderByTypeBtn")[0].removeAttribute("active"),document.getElementsByClassName("orderByTypeBtn")[0].getElementsByTagName("svg")[0].getElementsByTagName("path")[0].setAttribute("d","M13.3333 4L14.6666 5.33333L7.99992 12L1.33325 5.33333L2.66659 4L7.99992 9.5L13.3333 4Z")}},document.getElementsByClassName("clear")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;for(;0<document.getElementsByClassName("imageBox").length;)URL.revokeObjectURL(document.getElementsByClassName("imageBox")[0].getElementsByTagName("img")[0].src),document.getElementsByClassName("imageBox")[0].remove()},document.getElementsByClassName("transform")[0].onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;if(!(document.getElementsByClassName("imageBox").length<=0)){const s=createLoadingPage("이미지 PDF 변환"==document.title?"PDF를 생성중입니다.":"イメージを PDF に変換"==document.title?"PDFを作成中です。":"Generating PDF.");document.body.appendChild(s);var e=document.getElementsByClassName("pdfOptionOrientation")[0].value,t=document.getElementsByClassName("pdfOptionUtil")[0].value,n=document.getElementsByClassName("pdfOptionFormat")[0].value,a=document.getElementsByClassName("imageBox"),m=(()=>{switch(t){case"pt":return.75;case"mm":return.2645833333;case"cm":return.02645833333333;case"in":return.01041666666667}})(),o=document.getElementsByClassName("pdfOptionCompress")[0].value;setTimeout(()=>{location.protocol.startsWith("http")&&Worker?imageListPDFByThread(s,e,t,n,m,a,o).catch(e=>{console.error(e),s.remove(),alert("이미지 PDF 변환"==document.title?"알수없는 오류!":"イメージを PDF に変換"==document.title?"不明なエラーです。":"Unknown error!")}):imageListPDF(s,e,t,n,m,a,o).catch(e=>{console.error(e),s.remove(),alert("이미지 PDF 변환"==document.title?"알수없는 오류!":"イメージを PDF に変換"==document.title?"不明なエラーです。":"Unknown error!")})},700)}};const imageFileAdd=e=>{if(e.type.startsWith("image/")&&!e.type.includes("svg")){const n=document.createElement("div");n.setAttribute("class","imageBox"),n.setAttribute("draggable",!0);const a=document.getElementsByClassName("imageListBox")[0];var t=document.getElementsByClassName("fileAddBox")[0];const m=document.querySelector("body>.deleteBtn"),o=m.cloneNode();for(let e=0;e<m.children.length;e++)o.appendChild(m.children[e].cloneNode());o.setAttribute("draggable",!1),n.appendChild(o);const s=document.createElement("div");s.setAttribute("class","imageContainer"),n.appendChild(s);const l=document.createElement("div");l.setAttribute("class","imageCanvas");const r=document.createElement("img");r.src=URL.createObjectURL(e),l.appendChild(r),s.appendChild(l);const d=document.createElement("div");d.setAttribute("class","imageName"),d.setAttribute("draggable",!1),d.innerText=e.name,n.appendChild(d),a.insertBefore(n,t),r.ondragstart=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;var e=n;pdfBlockMove=e,event.dataTransfer.setDragImage(r,r.offsetWidth/2,r.offsetHeight/2)},n.ondragstart=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;var e=n;pdfBlockMove=e,event.dataTransfer.setDragImage(r,r.offsetWidth/2,r.offsetHeight/2)},n.ondragover=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;if(pdfBlockMove)switch(event.preventDefault(),dragDivLocation(event)){case 0:n.setAttribute("dragLoc",0);break;case 1:n.setAttribute("dragLoc",1)}},n.ondragleave=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;pdfBlockMove&&n.hasAttribute("dragLoc")&&n.removeAttribute("dragLoc")},n.ondrop=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;if(pdfBlockMove){n.hasAttribute("dragLoc")&&n.removeAttribute("dragLoc");var e=pdfBlockMove;switch(pdfBlockMove=void 0,dragDivLocation(event)){case 0:n.insertAdjacentElement("beforebegin",e);break;case 1:n.insertAdjacentElement("afterend",e)}}},o.onclick=()=>{if(0<document.getElementsByClassName("downloadLoadingPage").length)return event.preventDefault(),!1;URL.revokeObjectURL(r.src),n.remove()}}},dragDivLocation=e=>e.target.offsetWidth/2<e.offsetX?1:0,createLoadingPage=e=>{const t=document.createElement("div");t.setAttribute("class","downloadLoadingPage");const n=document.createElement("div");n.setAttribute("class","loadingPageMessage"),n.innerHTML=e;const a=document.createElement("div");return a.setAttribute("class","loadingPageProgressBar"),t.appendChild(n),t.appendChild(a),t};window.onkeydown=()=>{36==event.keyCode?(document.getElementsByClassName("imageListBox")[0].scrollTop=0,event.preventDefault()):35==event.keyCode&&(document.getElementsByClassName("imageListBox")[0].scrollTop=document.getElementsByClassName("imageListBox")[0].scrollHeight,event.preventDefault())};